language: python
python:
  - "2.7"
  - "3.3"
  - "3.5"
install:
  - pip install deepdiff
  - pip install coveralls
  - mkdir -p .bins
  - cd .bins
  - wget https://github.com/martine/ninja/releases/download/v1.6.0/ninja-linux.zip
  - unzip ninja-linux.zip
  - chmod +x ninja
  - PATH=$PWD:$PATH
  - cd ..
script:
  - cd tests
  - coverage run --source=.. --omit=tests.py tests.py --compiler clang
  - coverage run --source=.. --omit=tests.py tests.py --compiler gcc
  - coverage combine
after_success:
  coveralls