# figure out compiler commands
filter toolset:msvc variation:debug
  cxx = cl /O0 -c $in /Fo$out
  link = cl $in /link /out:$out
filter toolset:msvc variation:release
  cxx = cl /Ox -c $in /Fo$out
  link = cl $in /link /out:$out

# write rules
rule cxx
  command = $cxx
rule link
  command = $link

# configure auto keyword
auto *.obj: cxx *.cpp
auto *.exe: link *.obj

# magic
build *.obj: auto *.cpp
build fox_test.exe: auto *.obj
