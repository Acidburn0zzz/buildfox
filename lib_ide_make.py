# BuildFox ninja generator

def gen_make(buildfox_name, ninja_gen_mode, filename = "Makefile"):
	with open(filename, "w") as f:
		f.write("# generated by BuildFox\n")
		if ninja_gen_mode:
			f.write("all: compile\n")
		else:
			bf_cmd = "bf -i " + buildfox_name if buildfox_name != "build.fox" else "bf"
			f.write("all: configure compile\nconfigure:\n\t%s\n" % bf_cmd)
		f.write("""compile:
	ninja
clean:
	ninja -t clean
""")